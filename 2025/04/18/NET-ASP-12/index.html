<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ASP.NET学习记录-12-实践2-使用MySQL数据库 | kyl的博客</title><meta name="author" content="kyl"><meta name="copyright" content="kyl"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="C# .NET ASP.NET Core 基础入门 简单学习">
<meta property="og:type" content="article">
<meta property="og:title" content="ASP.NET学习记录-12-实践2-使用MySQL数据库">
<meta property="og:url" content="https://alsl521.github.io/2025/04/18/NET-ASP-12/index.html">
<meta property="og:site_name" content="kyl的博客">
<meta property="og:description" content="C# .NET ASP.NET Core 基础入门 简单学习">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://avatars.githubusercontent.com/u/61216968?s=400&u=d5b61cbc7946e6309e4318dabc2d459a18e0fe55&v=4">
<meta property="article:published_time" content="2025-04-18T08:11:21.000Z">
<meta property="article:modified_time" content="2025-04-21T08:38:53.432Z">
<meta property="article:author" content="kyl">
<meta property="article:tag" content="C#">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://avatars.githubusercontent.com/u/61216968?s=400&u=d5b61cbc7946e6309e4318dabc2d459a18e0fe55&v=4"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ASP.NET学习记录-12-实践2-使用MySQL数据库",
  "url": "https://alsl521.github.io/2025/04/18/NET-ASP-12/",
  "image": "https://avatars.githubusercontent.com/u/61216968?s=400&u=d5b61cbc7946e6309e4318dabc2d459a18e0fe55&v=4",
  "datePublished": "2025-04-18T08:11:21.000Z",
  "dateModified": "2025-04-21T08:38:53.432Z",
  "author": [
    {
      "@type": "Person",
      "name": "kyl",
      "url": "https://alsl521.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://alsl521.github.io/2025/04/18/NET-ASP-12/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ASP.NET学习记录-12-实践2-使用MySQL数据库',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://avatars.githubusercontent.com/u/61216968?s=400&amp;u=d5b61cbc7946e6309e4318dabc2d459a18e0fe55&amp;v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">24</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">23</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">kyl的博客</span></a><a class="nav-page-title" href="/"><span class="site-name">ASP.NET学习记录-12-实践2-使用MySQL数据库</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">ASP.NET学习记录-12-实践2-使用MySQL数据库</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-04-18T08:11:21.000Z" title="发表于 2025-04-18 16:11:21">2025-04-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-04-21T08:38:53.432Z" title="更新于 2025-04-21 16:38:53">2025-04-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/">C#</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/ASP/">ASP</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="1、配置数据库"><a href="#1、配置数据库" class="headerlink" title="1、配置数据库"></a>1、配置数据库</h1><ol>
<li><p>首先连接数据库</p>
<p><img src="/NET-ASP-12/image-20250421153004659.png" alt="image-20250421153004659"><img src="/NET-ASP-12/image-20250421153024281.png" alt="image-20250421153024281"></p>
</li>
<li><p>然后连接已有数据库，或者是创建新的数据库</p>
<p><img src="/NET-ASP-12/image-20250421153257179.png" alt="image-20250421153257179"></p>
</li>
<li><p>随后在选择的数据库中选择或创建新的表，并且添加初始数据</p>
<p><img src="/NET-ASP-12/image-20250421153646348.png" alt="image-20250421153646348"></p>
<p>由于是利用软件自动生成的数据，数据以仅作示例，没有特定含义。</p>
<p><img src="/NET-ASP-12/image-20250421153707010.png" alt="image-20250421153707010"></p>
</li>
</ol>
<h1 id="2、配置-MySQL-所需包"><a href="#2、配置-MySQL-所需包" class="headerlink" title="2、配置 MySQL 所需包"></a>2、配置 MySQL 所需包</h1><p>在使用数据库时，由于可能不包含必要的数据库插件，所以需要安装以下<code>NuGet</code>包，并且需要注意版本一致性：</p>
<ol>
<li>Microsoft.EntityFrameworkCore</li>
<li>Microsoft.EntityFrameworkCore.Design</li>
<li>Microsoft.EntityFrameworkCore.Tools</li>
<li>Pomelo.EntityFrameworkCore.MySql</li>
</ol>
<p><img src="/NET-ASP-12/image-20250421110420769.png" alt="image-20250421110420769"></p>
<h1 id="3、配置-MySQL-上下文"><a href="#3、配置-MySQL-上下文" class="headerlink" title="3、配置 MySQL 上下文"></a>3、配置 MySQL 上下文</h1><p> TodoItemDbContext 类，它是一个 Entity Framework Core (EF Core) 的数据库上下文类，主要用于管理与数据库的交互。TodoItemDbContext 继承自 DbContext，是 EF Core 的核心组件，用于：定义数据库表与实体类的映射关系。提供对数据库的访问接口（如查询、插入、更新、删除操作）。管理数据库连接和事务。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.Options;</span><br><span class="line"><span class="keyword">using</span> WebApp.Pojo.Entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WebApp.DB</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 待办事项数据库上下文类</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 继承自 DbContext，用于与数据库交互</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 提供对 TodoItem 实体的访问和管理</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TodoItemDbContext</span> : <span class="title">DbContext</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 待办事项表的 DbSet</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 映射到数据库中的 &quot;todo_item&quot; 表</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 作用：DbSet<span class="doctag">&lt;T&gt;</span> 是 EF Core 中的一个集合，表示数据库中的一张表。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 在这里：TodoItems 映射到数据库中的 todo_item 表。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 用途：通过 TodoItems 属性，您可以对 todo_item 表执行 CRUD 操作（如查询所有待办事项、添加新待办事项等）。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> DbSet&lt;TodoItem&gt; TodoItems &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 构造函数</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 通过依赖注入接收 DbContextOptions，用于配置数据库连接</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 作用：通过依赖注入接收 DbContextOptions，用于配置数据库连接（如连接字符串、数据库提供程序等）。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 在这里：options 包含了数据库的配置信息（如 MySQL 的连接字符串）。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 用途：支持灵活的数据库配置，便于在不同环境（如开发、测试、生产）中使用不同的数据库。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;options&quot;&gt;</span>数据库上下文选项<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TodoItemDbContext</span>(<span class="params">DbContextOptions&lt;TodoItemDbContext&gt; options</span>) : <span class="title">base</span>(<span class="params">options</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 配置模型的创建规则</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 在这里可以定义实体与数据库表的映射关系</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 作用：配置实体类与数据库表的映射规则。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 在这里：</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 显式指定 TodoItem 实体映射到数据库表 todo_item。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 如果不指定，EF Core 会默认使用实体类的名称（如 TodoItem）作为表名。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 用途：确保代码中的实体类与数据库中的表名一致，避免因命名不一致导致的问题。</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;modelBuilder&quot;&gt;</span>模型生成器<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnModelCreating</span>(<span class="params">ModelBuilder modelBuilder</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 显式指定 TodoItem 实体映射到数据库表 &quot;todo_item&quot;</span></span><br><span class="line">            modelBuilder.Entity&lt;TodoItem&gt;().ToTable(<span class="string">&quot;todo_item&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注释说明</p>
<ol>
<li>   类级别注释：<ul>
<li><code>TodoItemDbContext </code>是数据库上下文类，继承自 <code>DbContext</code>，用于管理与数据库的交互。</li>
<li>它是 <code>Entity Framework Core</code> 的核心组件，负责查询、保存和管理实体。</li>
</ul>
</li>
<li>   属性注释：<ul>
<li><code>DbSet&lt;TodoItem&gt;</code> 是 <code>EF Core </code>中的一个集合，表示数据库中的一张表。</li>
<li>在这里，<code>TodoItems</code> 映射到数据库中的 <code>todo_item</code> 表。</li>
</ul>
</li>
<li>   构造函数注释：<ul>
<li>构造函数通过依赖注入接收 <code>DbContextOptions</code>，用于配置数据库连接（如连接字符串、数据库提供程序等）。</li>
</ul>
</li>
<li>   方法注释：<ul>
<li><code>OnModelCreating </code>方法用于配置实体与数据库表的映射关系。</li>
<li>使用<code>ToTable(&quot;todo_item&quot;)</code>显式指定 <code>TodoItem </code>实体映射到数据库表<code> todo_item</code>。</li>
</ul>
</li>
</ol>
<hr>
<p>代码功能总结</p>
<ul>
<li>数据库上下文：<ul>
<li><code>TodoItemDbContext </code>是应用程序与数据库之间的桥梁。</li>
<li>它管理<code>TodoItem</code>实体的<code>CRUD</code>操作。</li>
</ul>
</li>
<li>表名映射：<ul>
<li>使用<code>ToTable(&quot;todo_item&quot;)</code>将 <code>TodoItem</code>实体映射到数据库表<code> todo_item</code>，确保表名一致。</li>
</ul>
</li>
<li>依赖注入：<ul>
<li>通过构造函数注入<code> DbContextOptions</code>，支持灵活的数据库配置。</li>
</ul>
</li>
</ul>
<h1 id="4、配置-MySQL-连接字符串"><a href="#4、配置-MySQL-连接字符串" class="headerlink" title="4、配置 MySQL 连接字符串"></a>4、配置 MySQL 连接字符串</h1><p>在 appsettings.json 文件中添加 MySQL 的连接字符串。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment">// 配置日志记录</span></span><br><span class="line">  <span class="attr">&quot;Logging&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;LogLevel&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="comment">// 默认日志级别，设置为 &quot;Information&quot;，记录信息级别及以上的日志（如警告、错误）</span></span><br><span class="line">      <span class="attr">&quot;Default&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Information&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="comment">// 针对 Microsoft.AspNetCore 命名空间的日志级别，设置为 &quot;Warning&quot;，仅记录警告及以上的日志</span></span><br><span class="line">      <span class="attr">&quot;Microsoft.AspNetCore&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Warning&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 数据库连接字符串配置</span></span><br><span class="line">  <span class="attr">&quot;ConnectionStrings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// 默认数据库连接字符串，连接到 MySQL 数据库</span></span><br><span class="line">    <span class="comment">// server: 数据库服务器地址（此处为 localhost）</span></span><br><span class="line">    <span class="comment">// port: 数据库端口（MySQL 默认端口为 3306）</span></span><br><span class="line">    <span class="comment">// database: 数据库名称（此处为 aspnetcore）</span></span><br><span class="line">    <span class="comment">// uid: 数据库用户名（此处为 root）</span></span><br><span class="line">    <span class="comment">// pwd: 数据库密码（此处为 root）</span></span><br><span class="line">    <span class="attr">&quot;DefaultConnection&quot;</span><span class="punctuation">:</span> <span class="string">&quot;server=localhost;port=3306;database=aspnetcore;uid=root;pwd=root;&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// 配置允许的主机</span></span><br><span class="line">  <span class="comment">// &quot;*&quot; 表示允许所有主机访问</span></span><br><span class="line">  <span class="attr">&quot;AllowedHosts&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h1 id="5、在-Program-cs-中配置-MySQL"><a href="#5、在-Program-cs-中配置-MySQL" class="headerlink" title="5、在 Program.cs 中配置 MySQL"></a>5、在 Program.cs 中配置 MySQL</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入必要的命名空间</span></span><br><span class="line"><span class="comment">// Microsoft.EntityFrameworkCore 提供与数据库交互的功能</span></span><br><span class="line"><span class="comment">// WebApp.Config 包含服务注册的扩展方法</span></span><br><span class="line"><span class="comment">// WebApp.DB 包含数据库上下文类</span></span><br><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"><span class="keyword">using</span> WebApp.Config;</span><br><span class="line"><span class="keyword">using</span> WebApp.DB;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个 Web 应用程序构建器，用于配置应用程序的服务和中间件</span></span><br><span class="line"><span class="comment">// 这是 ASP.NET Core 应用程序的起点，提供配置、日志、服务注册等功能</span></span><br><span class="line"><span class="keyword">var</span> builder = WebApplication.CreateBuilder(<span class="keyword">args</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 配置 MySQL 数据库上下文</span></span><br><span class="line"><span class="comment">// 将 TodoItemDbContext 注册到依赖注入容器中</span></span><br><span class="line"><span class="comment">// 使用 MySQL 作为数据库提供程序，并从 appsettings.json 中读取连接字符串</span></span><br><span class="line">builder.Services.AddDbContext&lt;TodoItemDbContext&gt;(options =&gt;</span><br><span class="line">    options.UseMySql(</span><br><span class="line">        builder.Configuration.GetConnectionString(<span class="string">&quot;DefaultConnection&quot;</span>), <span class="comment">// 从配置文件中读取连接字符串</span></span><br><span class="line">        <span class="keyword">new</span> MySqlServerVersion(<span class="keyword">new</span> Version(<span class="number">8</span>, <span class="number">0</span>, <span class="number">34</span>)) <span class="comment">// 指定 MySQL 数据库的版本</span></span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册控制器服务</span></span><br><span class="line"><span class="comment">// 将控制器添加到依赖注入容器中，允许应用程序处理基于控制器的 HTTP 请求</span></span><br><span class="line"><span class="comment">// 使 MVC 控制器可以被依赖注入系统识别</span></span><br><span class="line">builder.Services.AddControllers();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册应用程序中的所有服务</span></span><br><span class="line"><span class="comment">// 通过 DependencyInjectionExtensions 类中的扩展方法自动注册服务</span></span><br><span class="line"><span class="comment">// 包括 TodoItemService、TodoItemMapper 等依赖服务，避免在 Program.cs 中手动逐一注册</span></span><br><span class="line">builder.Services.RegisterAllServices();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 构建 Web 应用程序实例</span></span><br><span class="line"><span class="comment">// 通过构建器生成一个 Web 应用程序对象，准备运行应用程序</span></span><br><span class="line"><span class="comment">// 此时所有配置和服务注册都已完成，可以开始处理 HTTP 请求</span></span><br><span class="line"><span class="keyword">var</span> app = builder.Build();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 映射控制器路由</span></span><br><span class="line"><span class="comment">// 将控制器的路由映射到应用程序中，使其能够响应 HTTP 请求</span></span><br><span class="line"><span class="comment">// 例如：将 &quot;/api/TodoItem&quot; 路径映射到 TodoItemController</span></span><br><span class="line">app.MapControllers();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 启动 Web 应用程序并开始监听请求</span></span><br><span class="line"><span class="comment">// 运行应用程序，开始处理传入的 HTTP 请求</span></span><br><span class="line"><span class="comment">// 应用程序将一直运行，直到被明确停止</span></span><br><span class="line">app.Run();</span><br></pre></td></tr></table></figure>

<p>详细解析</p>
<ol>
<li>AddDbContext</li>
</ol>
<ul>
<li>作用：<ul>
<li>将 TodoItemDbContext 注册到 ASP.NET Core 的依赖注入容器中。</li>
<li>允许应用程序的其他部分（如控制器或服务）通过构造函数注入的方式使用 TodoItemDbContext。</li>
</ul>
</li>
<li>参数：<ul>
<li>TodoItemDbContext：数据库上下文类，继承自 DbContext，用于管理与数据库的交互。</li>
<li>options：配置数据库上下文的选项（如数据库提供程序、连接字符串等）。</li>
</ul>
</li>
</ul>
<ol start="2">
<li>UseMySql</li>
</ol>
<ul>
<li><p>作用：</p>
<ul>
<li>配置 EF Core 使用 MySQL 作为数据库提供程序。</li>
<li>告诉 EF Core 如何连接到 MySQL 数据库。</li>
</ul>
</li>
<li><p>参数：</p>
<ul>
<li><p>连接字符串：</p>
<ul>
<li>通过 builder.Configuration.GetConnectionString(“DefaultConnection”) 从 appsettings.json 中读取连接字符串。</li>
<li>连接字符串包含数据库服务器地址、端口、数据库名称、用户名和密码。</li>
</ul>
</li>
<li><p>示例连接字符串：</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;DefaultConnection&quot;</span>: <span class="string">&quot;server=localhost;port=3306;database=aspnetcore;uid=root;pwd=root;&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<ol start="3">
<li>MySQL 版本：</li>
</ol>
<ul>
<li>使用 new MySqlServerVersion(new Version(8, 0, 34)) 指定 MySQL 数据库的版本。</li>
<li>这是 Pomelo.EntityFrameworkCore.MySql 提供程序的要求，用于优化 SQL 生成和功能支持。</li>
</ul>
<ol start="4">
<li>builder.Configuration.GetConnectionString</li>
</ol>
<ul>
<li>作用：<ul>
<li>从配置文件（如 appsettings.json）中读取连接字符串。</li>
<li>确保数据库连接信息可以集中管理，便于在不同环境（如开发、测试、生产）中使用不同的配置。</li>
</ul>
</li>
</ul>
<ol start="5">
<li><p>依赖注入的作用</p>
<ul>
<li>注册到容器：<ul>
<li>AddDbContext 将 TodoItemDbContext 注册为服务，允许在应用程序的其他部分通过构造函数注入使用它。</li>
</ul>
</li>
<li>生命周期：<ul>
<li>默认情况下，AddDbContext 使用 Scoped 生命周期：</li>
<li>每个 HTTP 请求创建一个新的 TodoItemDbContext 实例。</li>
<li>同一请求中的所有服务共享同一个实例。</li>
</ul>
</li>
</ul>
<hr>
<p>代码在程序中的作用</p>
<ol>
<li>数据库连接管理：</li>
</ol>
<ul>
<li>通过 AddDbContext 和 UseMySql 配置数据库连接，确保应用程序可以与 MySQL 数据库交互。</li>
</ul>
<ol start="2">
<li>依赖注入支持：</li>
</ol>
<ul>
<li>将 TodoItemDbContext 注册到依赖注入容器中，允许控制器或服务通过构造函数注入使用它。</li>
</ul>
<ol start="3">
<li>灵活的配置管理：</li>
</ol>
<ul>
<li>使用 appsettings.json 管理连接字符串，便于在不同环境中切换数据库配置。</li>
</ul>
<ol start="4">
<li>MySQL 优化：</li>
</ol>
<ul>
<li>通过指定 MySQL 版本，EF Core 可以生成针对特定版本优化的 SQL 查询。</li>
</ul>
</li>
</ol>
<h1 id="6、创建实体模型"><a href="#6、创建实体模型" class="headerlink" title="6、创建实体模型"></a>6、创建实体模型</h1><p>依据创建的数据库表重新构建pojo中的内容。</p>
<p>Pojo\DTO\TodoItemDTO.cs</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">WebApp.Pojo.DTO</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 待办事项数据传输对象 (Data Transfer Object)</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 用于在应用层之间传递待办事项数据，不包含所有实体属性</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TodoItemDTO</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 优先级ID，表示待办事项的优先级等级</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 待办事项名称，可为空</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span>? Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 完成状态标志，表示待办事项是否已完成</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> true 表示已完成，false 表示未完成</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> IsComplete &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Pojo\Entity\TodoItem.cs</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">WebApp.Pojo.Entity</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 待办事项实体类</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 表示数据库中的一条待办事项记录</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 用于持久化存储待办事项数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TodoItem</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 待办事项的唯一标识符</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 设为私有属性以保证实体完整性</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 通常由数据库自动生成</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">int</span> TodoId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 优先级标识符</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 用于关联待办事项的优先级别</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 也可作为任务的唯一标识</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 待办事项名称</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 可以为空，表示任务的标题或描述</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span>? Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 完成状态标志</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 1 表示已完成，0 表示未完成</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 用于标记任务的完成状态</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> IsComplete &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 创建时间</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 记录待办事项的创建时间戳</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 用于跟踪任务的生成时间</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> DateTime CreatedAt &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 更新时间</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 记录待办事项的最后更新时间戳</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 用于跟踪任务的修改时间</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> DateTime UpdatedAt &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 删除时间</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 用于软删除功能，记录任务被删除的时间</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 如果为 null，表示任务未被删除</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> DateTime? DeletedAt &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 默认构造函数</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 提供无参数的构造方法，便于 EF Core 或其他框架实例化对象</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TodoItem</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> TodoItem 的完整构造函数</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 初始化待办事项的所有属性</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoId&quot;&gt;</span>待办事项ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>优先级ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;name&quot;&gt;</span>待办事项名称<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;isComplete&quot;&gt;</span>完成状态<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;createdAt&quot;&gt;</span>创建时间<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;updatedAt&quot;&gt;</span>更新时间<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;deletedAt&quot;&gt;</span>删除时间，默认为 null<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TodoItem</span>(<span class="params"><span class="built_in">int</span> todoId, <span class="built_in">int</span> id, <span class="built_in">string</span>? name, <span class="built_in">int</span> isComplete, DateTime createdAt, DateTime updatedAt, DateTime? deletedAt = <span class="literal">null</span></span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            TodoId = todoId;</span><br><span class="line">            Id = id;</span><br><span class="line">            Name = name;</span><br><span class="line">            IsComplete = isComplete;</span><br><span class="line">            CreatedAt = createdAt;</span><br><span class="line">            UpdatedAt = updatedAt;</span><br><span class="line">            DeletedAt = deletedAt;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在 Entity Framework Core (EF Core) 或其他类似框架中，默认构造函数（无参数构造函数）是必需的或推荐的，主要是因为这些框架在实例化实体对象时需要遵循特定的规则。以下是详细的原因和解释：</p>
<ol>
<li>EF Core 如何实例化实体对象</li>
</ol>
<p>  EF Core 使用反射（Reflection）来实例化实体对象。当从数据库中查询数据时，EF Core 会：</p>
<ol>
<li>创建实体对象：通过调用实体类的默认构造函数（无参数构造函数）。</li>
<li>设置属性值：将数据库中的列值绑定到实体对象的属性。</li>
</ol>
<p>  如果实体类没有默认构造函数，EF Core 将无法实例化该类的对象，从而导致运行时错误。</p>
<ol start="2">
<li><p>默认构造函数的作用</p>
<ul>
<li>支持反射实例化<ul>
<li>EF Core 使用反射来创建对象，而反射需要一个无参数的构造函数来实例化类。如果没有默认构造函数，EF Core 无法通过反射创建对象。</li>
</ul>
</li>
<li>支持延迟加载（Lazy Loading）<ul>
<li>在启用延迟加载时，EF Core 可能会动态代理实体类（创建派生类）。默认构造函数是动态代理生成的关键要求。</li>
</ul>
</li>
<li>支持属性绑定<ul>
<li>EF Core 在实例化对象后，会逐一设置属性值。如果没有默认构造函数，EF Core 无法创建对象，也就无法设置属性值。</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="3">
<li>为什么完整构造函数不足以替代默认构造函数？<br>  虽然实体类可以定义带参数的完整构造函数，但 EF Core 无法自动将数据库列值绑定到构造函数的参数。原因如下：</li>
<li>参数名与列名可能不匹配：<ul>
<li>EF Core 依赖属性名与数据库列名匹配，而构造函数的参数名可能与列名不同。</li>
</ul>
</li>
<li>绑定复杂性：<ul>
<li>EF Core 无法解析复杂的构造函数逻辑（如参数的默认值或计算逻辑）。</li>
</ul>
</li>
<li>灵活性不足：<ul>
<li>如果只有带参数的构造函数，EF Core 无法支持动态代理或延迟加载。</li>
</ul>
</li>
</ol>
</blockquote>
<p>Pojo\VO\TodoItemVO.cs</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">WebApp.Pojo.VO</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 待办事项视图对象 (View Object)</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 用于向前端或其他外部系统展示待办事项数据</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 不包含敏感数据字段，适合视图层使用</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TodoItemVO</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 优先级标识符</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 表示待办事项的优先级等级</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 待办事项名称</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 可为空值</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span>? Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 完成状态标志</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> true表示已完成，false表示未完成</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> IsComplete &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 创建时间</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 记录待办事项创建的时间戳</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> DateTime CreatedAt &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 更新时间</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 记录待办事项最后一次更新的时间戳</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> DateTime UpdatedAt &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 删除时间</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 用于软删除功能，记录删除时间</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 为null表示未删除</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> DateTime? DeletedAt &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="7、使用数据库"><a href="#7、使用数据库" class="headerlink" title="7、使用数据库"></a>7、使用数据库</h1><p>在Mapper中使用数据库</p>
<p>Mapper\ITodoItemMapper.cs</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> WebApp.Pojo.Entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WebApp.Mapper</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 待办事项数据映射器接口</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 定义了对待办事项(TodoItem)实体的数据访问操作</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 作为数据访问层的核心组件，负责数据操作的抽象</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ITodoItemMapper</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 获取所有待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>所有待办事项的集合<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;TodoItem&gt; <span class="title">GetAllTodoItems</span>()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 根据ID获取特定的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待办事项的唯一标识符<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>对应ID的待办事项，如果不存在则返回null<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TodoItem <span class="title">GetTodoItemById</span>(<span class="params"><span class="built_in">int</span> id</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 添加一个新的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItem&quot;&gt;</span>需要添加的待办事项对象<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddTodoItem</span>(<span class="params">TodoItem todoItem</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 更新指定ID的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待更新待办事项的ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItem&quot;&gt;</span>包含更新信息的待办事项对象<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">UpdateTodoItem</span>(<span class="params"><span class="built_in">int</span> id, TodoItem todoItem</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 删除指定ID的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待删除待办事项的ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DeleteTodoItem</span>(<span class="params"><span class="built_in">int</span> id</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Mapper\Impl\TodoItemMapperImpl.cs</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> WebApp.DB;</span><br><span class="line"><span class="keyword">using</span> WebApp.Pojo.Entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WebApp.Mapper.Impl</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> TodoItem 数据映射器的实现类</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 提供对待办事项数据的数据库操作实现</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 实现 ITodoItemMapper 接口定义的所有数据访问操作</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TodoItemMapperImpl</span> : <span class="title">ITodoItemMapper</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 数据库上下文，用于与数据库交互</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">readonly</span> TodoItemDbContext _context;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 构造函数，通过依赖注入初始化数据库上下文</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItemDbContext&quot;&gt;</span>数据库上下文实例<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TodoItemMapperImpl</span>(<span class="params">TodoItemDbContext todoItemDbContext</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            _context = todoItemDbContext;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 获取所有待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 从数据库中检索所有 TodoItem 记录</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>包含所有待办事项的集合<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;TodoItem&gt; <span class="title">GetAllTodoItems</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 使用 EF Core 的 ToList 方法将所有记录加载到内存中</span></span><br><span class="line">            <span class="keyword">return</span> _context.TodoItems.ToList();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 根据 ID 获取特定的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 从数据库中查找匹配指定 ID 的 TodoItem</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待办事项的唯一标识符<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>对应 ID 的待办事项对象，如果不存在则返回 null<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TodoItem <span class="title">GetTodoItemById</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 使用 EF Core 的 Find 方法根据主键查找记录</span></span><br><span class="line">            <span class="keyword">return</span> _context.TodoItems.Find(id);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 添加一个新的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 将 TodoItem 对象插入到数据库中</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItem&quot;&gt;</span>需要添加的待办事项对象<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddTodoItem</span>(<span class="params">TodoItem todoItem</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 使用 EF Core 的 Add 方法将新记录添加到上下文</span></span><br><span class="line">            _context.TodoItems.Add(todoItem);</span><br><span class="line">            <span class="comment">// 保存更改到数据库</span></span><br><span class="line">            _context.SaveChanges();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 更新指定 ID 的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 使用传入的 TodoItem 对象更新数据库中的记录</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待更新待办事项的 ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItem&quot;&gt;</span>包含更新信息的待办事项对象<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;remarks&gt;</span>注意：此方法不检查记录是否存在，可能导致空引用异常<span class="doctag">&lt;/remarks&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">UpdateTodoItem</span>(<span class="params"><span class="built_in">int</span> id, TodoItem todoItem</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 使用 EF Core 的 Update 方法更新记录</span></span><br><span class="line">            _context.TodoItems.Update(todoItem);</span><br><span class="line">            <span class="comment">// 保存更改到数据库</span></span><br><span class="line">            _context.SaveChanges();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 删除指定 ID 的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 从数据库中移除匹配的记录</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待删除待办事项的 ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;remarks&gt;</span>注意：如果记录不存在，此方法不会执行任何操作<span class="doctag">&lt;/remarks&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DeleteTodoItem</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 使用 EF Core 的 Find 方法查找记录</span></span><br><span class="line">            <span class="keyword">var</span> item = _context.TodoItems.Find(id);</span><br><span class="line">            <span class="keyword">if</span> (item != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// 如果记录存在，使用 Remove 方法删除记录</span></span><br><span class="line">                _context.TodoItems.Remove(item);</span><br><span class="line">                <span class="comment">// 保存更改到数据库</span></span><br><span class="line">                _context.SaveChanges();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="8、构建完整代码"><a href="#8、构建完整代码" class="headerlink" title="8、构建完整代码"></a>8、构建完整代码</h1><p>Services\ITodoItemService.cs</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> WebApp.Pojo.DTO;</span><br><span class="line"><span class="keyword">using</span> WebApp.Pojo.Entity;</span><br><span class="line"><span class="keyword">using</span> WebApp.Pojo.VO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WebApp.Services</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 待办事项服务接口</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 定义了待办事项的业务逻辑操作</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 作为业务逻辑层的核心组件，处理待办事项的业务规则和转换逻辑</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ITodoItemService</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 获取所有待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 以视图对象(VO)形式返回，适合前端展示</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>所有待办事项的VO集合<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;TodoItemVO&gt; <span class="title">GetAllTodoItems</span>()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 根据ID获取特定的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 将数据库实体转换为视图对象返回</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待办事项的唯一标识符<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>对应ID的待办事项视图对象，如果不存在可能抛出异常<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TodoItemVO <span class="title">GetTodoItemById</span>(<span class="params"><span class="built_in">int</span> id</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 添加一个新的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 将DTO转换为实体对象并保存，然后返回创建后的视图对象</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItemDTO&quot;&gt;</span>包含新待办事项信息的DTO<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>创建成功后的待办事项视图对象<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TodoItemVO <span class="title">AddTodoItem</span>(<span class="params">TodoItemDTO todoItemDTO</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 更新指定ID的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 使用DTO中的数据更新已有实体，并返回更新后的视图对象</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待更新待办事项的ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItemDTO&quot;&gt;</span>包含更新信息的DTO<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>更新后的待办事项视图对象<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TodoItemVO <span class="title">UpdateTodoItem</span>(<span class="params"><span class="built_in">int</span> id, TodoItemDTO todoItemDTO</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 删除指定ID的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 执行删除操作并返回删除前的待办事项信息</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待删除待办事项的ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>删除前的待办事项视图对象<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TodoItemVO <span class="title">DeleteTodoItem</span>(<span class="params"><span class="built_in">int</span> id</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Services\Impl\TodoItemServiceImpl.cs</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> WebApp.Mapper;</span><br><span class="line"><span class="keyword">using</span> WebApp.Pojo.DTO;</span><br><span class="line"><span class="keyword">using</span> WebApp.Pojo.Entity;</span><br><span class="line"><span class="keyword">using</span> WebApp.Pojo.VO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WebApp.Services.Impl</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 待办事项服务实现类</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 实现了ITodoItemService接口定义的所有业务逻辑操作</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 作为连接表示层和数据访问层的桥梁，处理数据转换和业务规则</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TodoItemServiceImpl</span> : <span class="title">ITodoItemService</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 待办事项数据映射器接口，用于数据访问操作</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 通过依赖注入获取具体实现</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">readonly</span> ITodoItemMapper _todoItemMapper;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 构造函数，通过依赖注入初始化数据映射器</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItemMapper&quot;&gt;</span>待办事项数据映射器接口实现<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TodoItemServiceImpl</span>(<span class="params">ITodoItemMapper todoItemMapper</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            _todoItemMapper = todoItemMapper;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 获取所有待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 将从数据层获取的实体列表转换为视图对象列表</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>所有待办事项的视图对象集合<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;TodoItemVO&gt; <span class="title">GetAllTodoItems</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 调用数据映射器获取所有待办事项实体</span></span><br><span class="line">            List&lt;TodoItem&gt; todoItems = _todoItemMapper.GetAllTodoItems();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 使用LINQ将实体列表转换为VO列表并返回</span></span><br><span class="line">            <span class="keyword">return</span> todoItems.Select(item =&gt; <span class="keyword">new</span> TodoItemVO</span><br><span class="line">            &#123;</span><br><span class="line">                Id = item.Id,</span><br><span class="line">                Name = item.Name,</span><br><span class="line">                IsComplete = item.IsComplete,</span><br><span class="line">                CreatedAt = item.CreatedAt,</span><br><span class="line">                UpdatedAt = item.UpdatedAt,</span><br><span class="line">                DeletedAt = item.DeletedAt</span><br><span class="line">            &#125;).ToList();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 根据ID获取特定的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 如果项目不存在则抛出异常</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待办事项的唯一标识符<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>对应ID的待办事项视图对象<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref=&quot;Exception&quot;&gt;</span>当找不到待办事项时抛出<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TodoItemVO <span class="title">GetTodoItemById</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 调用数据映射器根据ID查找待办事项</span></span><br><span class="line">            TodoItem todoItem = _todoItemMapper.GetTodoItemById(id);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 如果未找到项目，抛出异常</span></span><br><span class="line">            <span class="keyword">if</span> (todoItem == <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Todo item not found&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 将实体转换为视图对象并返回</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> TodoItemVO</span><br><span class="line">            &#123;</span><br><span class="line">                Id = todoItem.Id,</span><br><span class="line">                Name = todoItem.Name,</span><br><span class="line">                IsComplete = todoItem.IsComplete,</span><br><span class="line">                CreatedAt = todoItem.CreatedAt,</span><br><span class="line">                UpdatedAt = todoItem.UpdatedAt,</span><br><span class="line">                DeletedAt = todoItem.DeletedAt</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 添加一个新的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 将DTO转换为实体对象，保存后返回创建的视图对象</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItemDTO&quot;&gt;</span>包含新待办事项信息的DTO<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>创建成功后的待办事项视图对象<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref=&quot;Exception&quot;&gt;</span>当创建操作失败时抛出<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TodoItemVO <span class="title">AddTodoItem</span>(<span class="params">TodoItemDTO todoItemDTO</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 创建新的待办事项实体，设置适当的初始值</span></span><br><span class="line">            <span class="comment">// 注意：todoId使用了硬编码值3，实际应用中应使用自增ID或GUID</span></span><br><span class="line">            TodoItem todoItem = <span class="keyword">new</span> TodoItem(</span><br><span class="line">                    todoId: Random.Shared.Next(),</span><br><span class="line">                    id: todoItemDTO.Id,</span><br><span class="line">                    name: todoItemDTO.Name,</span><br><span class="line">                    isComplete: todoItemDTO.IsComplete,</span><br><span class="line">                    createdAt: DateTime.Now,</span><br><span class="line">                    updatedAt: DateTime.Now);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 调用数据映射器添加新项目</span></span><br><span class="line">            _todoItemMapper.AddTodoItem(todoItem);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 验证添加操作是否成功</span></span><br><span class="line">            TodoItem todoItemCreate = _todoItemMapper.GetTodoItemById(todoItemDTO.Id);</span><br><span class="line">            <span class="keyword">if</span> (todoItem == <span class="literal">null</span>) <span class="comment">// 注意：这里应检查todoItemCreate而非todoItem</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Todo item not found&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 将实体转换为视图对象并返回</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> TodoItemVO</span><br><span class="line">            &#123;</span><br><span class="line">                Id = todoItem.Id,</span><br><span class="line">                Name = todoItem.Name,</span><br><span class="line">                IsComplete = todoItem.IsComplete,</span><br><span class="line">                CreatedAt = todoItem.CreatedAt,</span><br><span class="line">                UpdatedAt = todoItem.UpdatedAt,</span><br><span class="line">                DeletedAt = todoItem.DeletedAt</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 更新指定ID的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 使用DTO中的数据更新已有实体，保存后返回更新的视图对象</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待更新待办事项的ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItemDTO&quot;&gt;</span>包含更新信息的DTO<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>更新后的待办事项视图对象<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref=&quot;Exception&quot;&gt;</span>当待办事项不存在或更新失败时抛出<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TodoItemVO <span class="title">UpdateTodoItem</span>(<span class="params"><span class="built_in">int</span> id, TodoItemDTO todoItemDTO</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 调用数据映射器根据ID查找待办事项</span></span><br><span class="line">            TodoItem todoItem = _todoItemMapper.GetTodoItemById(id);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 如果未找到项目，抛出异常</span></span><br><span class="line">            <span class="keyword">if</span> (todoItem == <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Todo item not found&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 用DTO中的数据更新实体属性</span></span><br><span class="line">            todoItem.Id = todoItemDTO.Id;</span><br><span class="line">            todoItem.Name = todoItemDTO.Name;</span><br><span class="line">            todoItem.IsComplete = todoItemDTO.IsComplete;</span><br><span class="line">            todoItem.UpdatedAt = DateTime.Now; <span class="comment">// 更新修改时间为当前时间</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 调用数据映射器更新项目</span></span><br><span class="line">            _todoItemMapper.UpdateTodoItem(id, todoItem);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 验证更新操作是否成功</span></span><br><span class="line">            TodoItem todoItemUpdate = _todoItemMapper.GetTodoItemById(todoItemDTO.Id);</span><br><span class="line">            <span class="keyword">if</span> (todoItem == <span class="literal">null</span>) <span class="comment">// 注意：这里应检查todoItemUpdate而非todoItem</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Todo item not found&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 将更新后的实体转换为视图对象并返回</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> TodoItemVO</span><br><span class="line">            &#123;</span><br><span class="line">                Id = todoItem.Id,</span><br><span class="line">                Name = todoItem.Name,</span><br><span class="line">                IsComplete = todoItem.IsComplete,</span><br><span class="line">                CreatedAt = todoItem.CreatedAt,</span><br><span class="line">                UpdatedAt = todoItem.UpdatedAt,</span><br><span class="line">                DeletedAt = todoItem.DeletedAt</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 删除指定ID的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 执行删除操作并返回删除前的待办事项信息</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待删除待办事项的ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>删除前的待办事项视图对象<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;exception cref=&quot;Exception&quot;&gt;</span>当待办事项不存在时抛出<span class="doctag">&lt;/exception&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TodoItemVO <span class="title">DeleteTodoItem</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 调用数据映射器根据ID查找待办事项</span></span><br><span class="line">            TodoItem todoItem = _todoItemMapper.GetTodoItemById(id);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 如果未找到项目，抛出异常</span></span><br><span class="line">            <span class="keyword">if</span> (todoItem == <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;Todo item not found&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 在删除前，保存项目的信息用于返回</span></span><br><span class="line">            TodoItemVO result = <span class="keyword">new</span> TodoItemVO</span><br><span class="line">            &#123;</span><br><span class="line">                Id = todoItem.Id,</span><br><span class="line">                Name = todoItem.Name,</span><br><span class="line">                IsComplete = todoItem.IsComplete,</span><br><span class="line">                CreatedAt = todoItem.CreatedAt,</span><br><span class="line">                UpdatedAt = todoItem.UpdatedAt,</span><br><span class="line">                DeletedAt = todoItem.DeletedAt</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 调用数据映射器删除项目</span></span><br><span class="line">            _todoItemMapper.DeleteTodoItem(id);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 返回删除前的项目信息</span></span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Controllers\TodoItemController.cs</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Microsoft.AspNetCore.Mvc;</span><br><span class="line"><span class="keyword">using</span> WebApp.Pojo.DTO;</span><br><span class="line"><span class="keyword">using</span> WebApp.Pojo.VO;</span><br><span class="line"><span class="keyword">using</span> WebApp.Services;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WebApp.Controllers</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 待办事项控制器</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 处理与待办事项相关的所有HTTP请求</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 作为应用程序的表示层，负责接收请求、调用服务层处理业务逻辑并返回结果</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    [<span class="meta">ApiController</span>]  <span class="comment">// 指示此类为API控制器，启用API特定行为如自动模型验证</span></span><br><span class="line">    [<span class="meta">Route(<span class="string">&quot;api/[controller]&quot;</span>)</span>]  <span class="comment">// 设置此控制器的路由模板，[controller]会被解析为&quot;TodoItem&quot;(去掉&quot;Controller&quot;后缀)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TodoItemController</span> : <span class="title">ControllerBase</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 待办事项服务接口实例</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 通过依赖注入获取，用于处理业务逻辑操作</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">readonly</span> ITodoItemService _todoItemService;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 构造函数，通过依赖注入初始化服务</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItemService&quot;&gt;</span>待办事项服务接口实现<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TodoItemController</span>(<span class="params">ITodoItemService todoItemService</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            _todoItemService = todoItemService;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 获取所有待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 处理HTTP GET请求，路由为 &quot;api/TodoItem&quot;</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>包含所有待办事项VO列表的HTTP 200成功响应<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        [<span class="meta">HttpGet</span>] <span class="comment">// 指定此方法处理 HTTP GET 请求</span></span><br><span class="line">        <span class="keyword">public</span> ActionResult&lt;List&lt;TodoItemVO&gt;&gt; GetAllTodoItems()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 调用服务层获取所有待办事项</span></span><br><span class="line">            List&lt;TodoItemVO&gt; todoItemVOs = _todoItemService.GetAllTodoItems();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 返回HTTP 200状态码和获取到的待办事项列表</span></span><br><span class="line">            <span class="keyword">return</span> Ok(todoItemVOs);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 根据ID获取特定的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 处理HTTP GET请求，路由为 &quot;api/TodoItem/&#123;id&#125;&quot;</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待获取的待办事项ID，来自URL路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>包含指定ID待办事项的HTTP 200成功响应，如果未找到则由服务层抛出异常<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        [<span class="meta">HttpGet(<span class="string">&quot;&#123;id&#125;&quot;</span>)</span>] <span class="comment">// 指定此方法处理带有ID参数的HTTP GET请求</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> ActionResult&lt;TodoItemVO&gt; <span class="title">GetTodoItemById</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 调用服务层根据ID获取待办事项</span></span><br><span class="line">            TodoItemVO todoItemVO = _todoItemService.GetTodoItemById(id);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 返回HTTP 200状态码和获取到的待办事项</span></span><br><span class="line">            <span class="keyword">return</span> Ok(todoItemVO);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 创建新的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 处理HTTP POST请求，路由为 &quot;api/TodoItem&quot;</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItem&quot;&gt;</span>包含新待办事项信息的DTO，从请求体中解析<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>包含创建成功的待办事项VO的HTTP 200成功响应<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        [<span class="meta">HttpPost</span>] <span class="comment">// 指定此方法处理HTTP POST请求</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> ActionResult&lt;TodoItemVO&gt; <span class="title">AddTodoItem</span>(<span class="params">[FromBody] TodoItemDTO todoItem</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 调用服务层创建新待办事项</span></span><br><span class="line">            TodoItemVO todoItemVO = _todoItemService.AddTodoItem(todoItem);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 返回HTTP 200状态码和创建的待办事项</span></span><br><span class="line">            <span class="comment">// 注意：更符合RESTful设计的做法是返回201 Created状态码和资源位置</span></span><br><span class="line">            <span class="keyword">return</span> Ok(todoItemVO);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 更新指定ID的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 处理HTTP PUT请求，路由为 &quot;api/TodoItem/&#123;id&#125;&quot;</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待更新的待办事项ID，来自URL路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;todoItem&quot;&gt;</span>包含更新信息的DTO，从请求体中解析<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>包含更新后待办事项VO的HTTP 200成功响应，如果未找到则由服务层抛出异常<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        [<span class="meta">HttpPut(<span class="string">&quot;&#123;id&#125;&quot;</span>)</span>] <span class="comment">// 指定此方法处理带有ID参数的HTTP PUT请求</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> ActionResult&lt;TodoItemVO&gt; <span class="title">UpdateTodoItem</span>(<span class="params"><span class="built_in">int</span> id, [FromBody] TodoItemDTO todoItem</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 调用服务层更新待办事项</span></span><br><span class="line">            TodoItemVO todoItemVO = _todoItemService.UpdateTodoItem(id, todoItem);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 返回HTTP 200状态码和更新后的待办事项</span></span><br><span class="line">            <span class="keyword">return</span> Ok(todoItemVO);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 删除指定ID的待办事项</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 处理HTTP DELETE请求，路由为 &quot;api/TodoItem/&#123;id&#125;&quot;</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;id&quot;&gt;</span>待删除的待办事项ID，来自URL路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>包含删除前待办事项信息的HTTP 200成功响应，如果未找到则由服务层抛出异常<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        [<span class="meta">HttpDelete(<span class="string">&quot;&#123;id&#125;&quot;</span>)</span>] <span class="comment">// 指定此方法处理带有ID参数的HTTP DELETE请求</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> ActionResult&lt;TodoItemVO&gt; <span class="title">DeleteTodoItem</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 调用服务层删除待办事项</span></span><br><span class="line">            TodoItemVO todoItemVO = _todoItemService.DeleteTodoItem(id);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 返回HTTP 200状态码和删除的待办事项信息</span></span><br><span class="line">            <span class="comment">// 注意：更符合RESTful设计的做法是返回204 No Content状态码</span></span><br><span class="line">            <span class="keyword">return</span> Ok(todoItemVO);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="9、结果可视化"><a href="#9、结果可视化" class="headerlink" title="9、结果可视化"></a>9、结果可视化</h1><p>1、查询全部</p>
<p><img src="/NET-ASP-12/image-20250421163424301.png" alt="image-20250421163424301"></p>
<p><img src="/NET-ASP-12/image-20250421163443181.png" alt="image-20250421163443181"></p>
<p>2、单独查询全部</p>
<p><img src="/NET-ASP-12/image-20250421163513538.png" alt="image-20250421163513538"></p>
<p>3、添加新内容</p>
<p><img src="/NET-ASP-12/image-20250421163526861.png" alt="image-20250421163526861"></p>
<p><img src="/NET-ASP-12/image-20250421163632101.png" alt="image-20250421163632101"></p>
<p>4、改数据</p>
<p><img src="/NET-ASP-12/image-20250421163705446.png" alt="image-20250421163705446"></p>
<p><img src="/NET-ASP-12/image-20250421163731667.png" alt="image-20250421163731667"></p>
<p>5、删除数据</p>
<p><img src="/NET-ASP-12/image-20250421163823330.png" alt="image-20250421163823330"></p>
<p><img src="/NET-ASP-12/image-20250421163844811.png" alt="image-20250421163844811"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://alsl521.github.io">kyl</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://alsl521.github.io/2025/04/18/NET-ASP-12/">https://alsl521.github.io/2025/04/18/NET-ASP-12/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://alsl521.github.io" target="_blank">kyl的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C/">C#</a></div><div class="post-share"><div class="social-share" data-image="https://avatars.githubusercontent.com/u/61216968?s=400&amp;u=d5b61cbc7946e6309e4318dabc2d459a18e0fe55&amp;v=4" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/04/18/NET-ASP-11/" title="ASP.NET学习记录-11-实践1-使用 ASP.NET Core 生成基于控制器的 Web API"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">ASP.NET学习记录-11-实践1-使用 ASP.NET Core 生成基于控制器的 Web API</div></div><div class="info-2"><div class="info-item-1">1、初始化项目本实践将创建以下 API：     API 说明 请求正文 响应正文    GET /api/todoitems 获取所有待办事项 无 待办事项的数组   GET /api/todoitems/&#123;id&#125; 按 ID 获取项 无 待办事项   POST /api/todoitems 添加新项 待办事项 待办事项   PUT /api/todoitems/&#123;id&#125; 更新现有项 待办事项 无   DELETE /api/todoitems/&#123;id&#125; 删除项 无 无   1.初始化项目首先要确保安装必备的相关内容，即ASP.NET和Web开发。  在此基础上，创建项目：  首先选择合理的项目模板   随后选择并输入名称，具体内容随意   依据需求选择，本次不使用HTTPS，随后创建项目。    2.项目内容介绍：  该项目是一个典型的 ASP.NET Core Web 应用项目，采用标准的 MVC（模型-视图-控制器）分层架构。  1. 项目整体架构 分层逻辑： 控制器（Controllers）：处理 HTTP...</div></div></div></a><a class="pagination-related" href="/2025/04/21/NET-ASP-13/" title="ASP.NET学习记录-13-实践2-数据库进阶"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">ASP.NET学习记录-13-实践2-数据库进阶</div></div><div class="info-2"><div class="info-item-1">1、分页在TodoItemController.cs中添加如下代码 123456789101112131415161718192021222324/// &lt;summary&gt;/// 获取分页的待办事项列表/// 处理HTTP GET请求，路由为 &quot;api/TodoItem/paged&quot;/// 接收查询参数pageNumber和pageSize/// &lt;/summary&gt;/// &lt;param name=&quot;pageNumber&quot;&gt;当前页码，默认为1，从查询字符串中获取&lt;/param&gt;/// &lt;param name=&quot;pageSize&quot;&gt;每页记录数，默认为10，从查询字符串中获取&lt;/param&gt;/// &lt;returns&gt;包含分页待办事项列表的HTTP 200成功响应&lt;/returns&gt;[HttpGet(&quot;paged&quot;)] // 指定此方法处理路由为 &quot;api/TodoItem/paged&quot;...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/04/08/NET-ASP-01/" title="ASP.NET学习记录-01-基础知识"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-08</div><div class="info-item-2">ASP.NET学习记录-01-基础知识</div></div><div class="info-2"><div class="info-item-1">视频教程为：ASP.NET Core Deep-Dive in .NET 9 | Udemy 1、.NET Core.NET Core 是微软开发的开源、跨平台应用程序开发框架，旨在为现代云原生、微服务及高性能场景提供支持。以下是其核心特性与定位的详细说明：  一、核心定义与定位 跨平台支持 .NET Core 可在 Windows、Linux、macOS 等操作系统上运行，并支持 x86、x64、ARM 等多种架构。 这种跨平台能力使其成为开发云原生、容器化应用（如 Docker）的理想选择。  开源与社区驱动 作为 MIT 协议下的开源项目，.NET Core 的代码托管于 GitHub，接受社区贡献，确保了技术透明度和快速迭代。    二、架构与技术特性 模块化设计 采用包化（Packages）管理，开发者可按需引用组件，减少应用体积，与传统的 .NET Framework 打包式安装形成对比。例如，通过 1dotnet restore  命令可动态还原依赖的 NuGet 包。  高性能运行时  RyuJIT 编译器：相比传统 JIT，性能提升约 25%，支持 SIMD...</div></div></div></a><a class="pagination-related" href="/2025/04/08/NET-ASP-02/" title="ASP.NET学习记录-02-最小API模式"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-08</div><div class="info-item-2">ASP.NET学习记录-02-最小API模式</div></div><div class="info-2"><div class="info-item-1">1、创建第一个ASP.NET应用（Minimal API）1.创建新项目 选择新的空项目  设定基本信息  使用最新版.NET作为学习内容  2.项目架构简介与解析 1. 解决方案（Solution） 名称：MyFirstWebApplication 作用： 作为容器管理多个相关项目（当前仅包含一个项目 WebApplication）。 支持团队协作和复杂应用的模块化开发（如Web API、类库、单元测试等）。   关键点： 可通过解决方案配置统一管理所有项目的依赖和环境设置。   新增项目 右键单击解决方案-&gt;添加-&gt;新建项目      2. 项目（Project: WebApplication） 核心结构：包含构建和运行Web应用所需的所有文件与配置，分为以下关键部分：  a. Connected Services 文件夹 作用： 存储与外部服务的连接配置（如数据库、Azure服务、第三方API）。 通过右键添加服务（如Entity Framework、Azure认证），自动生成连接配置文件。   示例：添加Azure...</div></div></div></a><a class="pagination-related" href="/2025/04/10/NET-ASP-04/" title="ASP.NET学习记录-03-路由"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-10</div><div class="info-item-2">ASP.NET学习记录-03-路由</div></div><div class="info-2"><div class="info-item-1">1、Routing和Endpoints简介在ASP.NET Core中，**路由（Routing）和终结点（Endpoints）**是处理HTTP请求的核心机制，它们共同构成了请求分发的管道系统。以下是对两者的详细介绍：  一、路由（Routing）路由的核心作用是将传入的HTTP请求根据URL路径和HTTP方法匹配到对应的处理逻辑（终结点）。在ASP.NET Core中，路由系统被称为终结点路由（Endpoint Routing）。 主要功能与工作流程 匹配请求：通过UseRouting中间件（即EndpointRoutingMiddleware）扫描应用中所有注册的终结点，根据请求的URL和HTTP方法选择最匹配的终结点 。示例代码：  12345app.UseRouting();app.UseEndpoints(endpoints =&gt; &#123;    endpoints.MapGet(&quot;/&quot;, async context =&gt; &#123; ......</div></div></div></a><a class="pagination-related" href="/2025/04/14/NET-ASP-06/" title="ASP.NET学习记录-06-最小API结果生产"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-14</div><div class="info-item-2">ASP.NET学习记录-06-最小API结果生产</div></div><div class="info-2"><div class="info-item-1">本次学习基础代码如下： Employee.cs 12345678910111213141516171819202122232425262728293031323334353637383940414243444546using System.ComponentModel.DataAnnotations;namespace WebApi.Models&#123;    /// &lt;summary&gt;    /// 员工实体类    /// &lt;/summary&gt;    public class Employee    &#123;        /// &lt;summary&gt;        /// 员工唯一标识符        /// &lt;/summary&gt;        public int Id &#123; get; set; &#125;        /// &lt;summary&gt;        /// 员工姓名        /// &lt;/summary&gt;        public string Name...</div></div></div></a><a class="pagination-related" href="/2025/04/15/NET-ASP-09/" title="ASP.NET学习记录-09-MVC"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-15</div><div class="info-item-2">ASP.NET学习记录-09-MVC</div></div><div class="info-2"><div class="info-item-1">1、MVC PatternASP.NET中的MVC（Model-View-Controller）模式是一种软件架构设计模式，它将应用程序分为三个核心组件：模型（Model）、视图（View）和控制器（Controller），以实现关注点分离，提升代码可维护性和可扩展性。  以下是其具体内涵及在ASP.NET中的应用特点： 1....</div></div></div></a><a class="pagination-related" href="/2025/04/08/NET-ASP-03/" title="ASP.NET学习记录-03-中间件管道"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-08</div><div class="info-item-2">ASP.NET学习记录-03-中间件管道</div></div><div class="info-2"><div class="info-item-1">1、中间件管道简介在 C# ASP.NET Core 中，中间件管道是处理 HTTP 请求和响应的核心机制，通过将多个中间件按顺序串联成一个处理流程，实现灵活的请求处理和业务逻辑组合。以下是其核心要点：  1. 中间件管道的基本概念 中间件（Middleware）：是管道中的独立组件，负责处理 HTTP 请求和响应。每个中间件可以：  对请求进行预处理（如日志、身份验证）。  调用下一个中间件（通过 next()），或直接终止处理（短路）。  对响应进行后处理（如修改响应头、记录耗时）。      管道（Pipeline）：由多个中间件按注册顺序串联而成，形成一个“请求→处理→响应”的流程。请求按顺序经过所有中间件，而响应则逆序返回  。    2. 管道的工作模式：1-n 然后 n-1 请求阶段（正向传递）：请求从第一个中间件开始，依次传递至最后一个中间件（终结点），形成“1→2→3”的顺序 。  响应阶段（逆向返回）：处理完成后，响应从终结点开始，逆序返回至第一个中间件，形成“3→2→1”的顺序  。 示例 123Middleware One: Request Start...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://avatars.githubusercontent.com/u/61216968?s=400&amp;u=d5b61cbc7946e6309e4318dabc2d459a18e0fe55&amp;v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">kyl</div><div class="author-info-description">用于记录平时学习的博客</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">24</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">23</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/alsl521" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:852970167@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1%E3%80%81%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">1、配置数据库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2%E3%80%81%E9%85%8D%E7%BD%AE-MySQL-%E6%89%80%E9%9C%80%E5%8C%85"><span class="toc-number">2.</span> <span class="toc-text">2、配置 MySQL 所需包</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3%E3%80%81%E9%85%8D%E7%BD%AE-MySQL-%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="toc-number">3.</span> <span class="toc-text">3、配置 MySQL 上下文</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4%E3%80%81%E9%85%8D%E7%BD%AE-MySQL-%E8%BF%9E%E6%8E%A5%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">4.</span> <span class="toc-text">4、配置 MySQL 连接字符串</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5%E3%80%81%E5%9C%A8-Program-cs-%E4%B8%AD%E9%85%8D%E7%BD%AE-MySQL"><span class="toc-number">5.</span> <span class="toc-text">5、在 Program.cs 中配置 MySQL</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6%E3%80%81%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E6%A8%A1%E5%9E%8B"><span class="toc-number">6.</span> <span class="toc-text">6、创建实体模型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7%E3%80%81%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">7.</span> <span class="toc-text">7、使用数据库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E3%80%81%E6%9E%84%E5%BB%BA%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81"><span class="toc-number">8.</span> <span class="toc-text">8、构建完整代码</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9%E3%80%81%E7%BB%93%E6%9E%9C%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">9.</span> <span class="toc-text">9、结果可视化</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/21/NET-ASP-13/" title="ASP.NET学习记录-13-实践2-数据库进阶">ASP.NET学习记录-13-实践2-数据库进阶</a><time datetime="2025-04-21T08:39:19.000Z" title="发表于 2025-04-21 16:39:19">2025-04-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/18/NET-ASP-12/" title="ASP.NET学习记录-12-实践2-使用MySQL数据库">ASP.NET学习记录-12-实践2-使用MySQL数据库</a><time datetime="2025-04-18T08:11:21.000Z" title="发表于 2025-04-18 16:11:21">2025-04-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/18/NET-ASP-11/" title="ASP.NET学习记录-11-实践1-使用 ASP.NET Core 生成基于控制器的 Web API">ASP.NET学习记录-11-实践1-使用 ASP.NET Core 生成基于控制器的 Web API</a><time datetime="2025-04-18T02:13:44.000Z" title="发表于 2025-04-18 10:13:44">2025-04-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/16/NET-ASP-10/" title="ASP.NET学习记录-10-过滤">ASP.NET学习记录-10-过滤</a><time datetime="2025-04-16T12:02:16.000Z" title="发表于 2025-04-16 20:02:16">2025-04-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/04/15/Software/" title="记录必备软件">记录必备软件</a><time datetime="2025-04-15T11:29:21.000Z" title="发表于 2025-04-15 19:29:21">2025-04-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2025 By kyl</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>